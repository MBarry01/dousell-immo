# ============================================================================
# VARIABLES D'ENVIRONNEMENT - DOUSELL IMMO
# ============================================================================
# Copiez ce fichier vers .env.local et remplissez avec vos vraies valeurs
# NE JAMAIS commiter .env.local (déjà dans .gitignore)
# ============================================================================

# ----------------------------------------------------------------------------
# SUPABASE (Base de données & Auth)
# ----------------------------------------------------------------------------
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbG...your-anon-key
SUPABASE_SERVICE_ROLE_KEY=eyJhbG...your-service-role-key

# ----------------------------------------------------------------------------
# REDIS/VALKEY (Cache & Performance) - NOUVEAU
# ----------------------------------------------------------------------------
# Choisir UNE des options ci-dessous selon l'environnement

# Option 1 : Dev Local (Docker Valkey - Recommandé pour commencer)
# Lancer avec : docker run -d --name valkey -p 6379:6379 valkey/valkey
REDIS_URL=redis://localhost:6379

# Option 2 : Vercel Production (Upstash Redis - Serverless)
# Créer compte sur https://upstash.com
# UPSTASH_REDIS_REST_URL=https://your-db.upstash.io
# UPSTASH_REDIS_REST_TOKEN=AXX...XXX

# Option 3 : Serveur Dédié (Valkey/Redis distant)
# REDIS_URL=redis://user:password@dakar-server.com:6379

# ----------------------------------------------------------------------------
# PAYDUNYA (Paiements)
# ----------------------------------------------------------------------------
PAYDUNYA_MASTER_KEY=your-master-key
PAYDUNYA_PRIVATE_KEY=your-private-key
PAYDUNYA_PUBLIC_KEY=your-public-key
PAYDUNYA_MODE=test
PAYDUNYA_TOKEN=your-token

# ----------------------------------------------------------------------------
# EMAIL (Resend - Service principal recommandé pour la production)
# ----------------------------------------------------------------------------
# Créer un compte sur https://resend.com et vérifier votre domaine dousel.com
# Générer une clé API dans le Dashboard Resend
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ----------------------------------------------------------------------------
# EMAIL (Gmail - Fallback si RESEND_API_KEY absent)
# NE PAS utiliser un compte personnel Gmail en production.
# Utiliser un compte Google Workspace lié à @dousel.com (ex: no-reply@dousel.com)
# ----------------------------------------------------------------------------
GMAIL_USER=no-reply@dousel.com
GMAIL_APP_PASSWORD=xxxx-xxxx-xxxx-xxxx

# ----------------------------------------------------------------------------
# EMAIL - Adresses d'envoi de la plateforme (OBLIGATOIRE en production)
# Ces adresses apparaissent dans le champ "From" des emails envoyés aux utilisateurs.
# Elles doivent être des alias vérifiés sur votre domaine dousel.com.
# ----------------------------------------------------------------------------
# Adresse principale pour les emails transactionnels (quittances, préavis, etc.)
FROM_EMAIL="Dousel Immo <contact@dousel.com>"
# Adresse pour les emails automatiques (confirmations, alertes)
NOREPLY_EMAIL="Dousel <noreply@dousel.com>"
# Adresse de contact affichée en reply-to
CONTACT_EMAIL=contact@dousel.com
# Email de l'administrateur principal (pour les notifications critiques côté serveur)
# C'est VOTRE email personnel - c'est là que vous recevez les alertes système
ADMIN_EMAIL=barrymohamadou98@gmail.com
# Même valeur, accessible côté client (pour les gardes d'accès sur les pages admin)
NEXT_PUBLIC_ADMIN_EMAIL=barrymohamadou98@gmail.com

# ----------------------------------------------------------------------------
# STRIPE (Abonnements SaaS - Paiements internationaux)
# ----------------------------------------------------------------------------
# Documentation : https://stripe.com/docs/keys
# Dashboard : https://dashboard.stripe.com/test/apikeys

# Clés API Stripe
STRIPE_SECRET_KEY=sk_test_YOUR_STRIPE_SECRET_KEY_HERE
STRIPE_WEBHOOK_SECRET=whsec_YOUR_WEBHOOK_SECRET_HERE

# Stripe Price IDs (Mensuel)
# Créer dans Dashboard > Products > Ajouter un prix > Récurrent (monthly)
NEXT_PUBLIC_STRIPE_PRICE_STARTER_MONTHLY=price_1xxxxxxxxxxxxx
NEXT_PUBLIC_STRIPE_PRICE_PRO_MONTHLY=price_1xxxxxxxxxxxxx
NEXT_PUBLIC_STRIPE_PRICE_ENTERPRISE_MONTHLY=price_1xxxxxxxxxxxxx

# Stripe Price IDs (Annuel) - Pour réduction -20%
# Créer dans Dashboard > Products > Ajouter un prix > Récurrent (annual)
NEXT_PUBLIC_STRIPE_PRICE_STARTER_ANNUAL=price_1xxxxxxxxxxxxx
NEXT_PUBLIC_STRIPE_PRICE_PRO_ANNUAL=price_1xxxxxxxxxxxxx
NEXT_PUBLIC_STRIPE_PRICE_ENTERPRISE_ANNUAL=price_1xxxxxxxxxxxxx

# Configuration des plans dans Stripe Dashboard :
# Starter   : 15,000 FCFA/mois (144,000 FCFA/an avec -20%)
# Pro       : 35,000 FCFA/mois (336,000 FCFA/an avec -20%)
# Enterprise: 75,000 FCFA/mois (720,000 FCFA/an avec -20%)

# ----------------------------------------------------------------------------
# N8N (Automation - Optionnel)
# ----------------------------------------------------------------------------
N8N_WEBHOOK_URL=https://your-n8n-instance.com/webhook/...

# ----------------------------------------------------------------------------
# VERCEL (Détection auto - Ne pas modifier)
# ----------------------------------------------------------------------------
# VERCEL=1  # Auto-set par Vercel en production

# ============================================================================
# NOTES IMPORTANTES
# ============================================================================
#
# 1. REDIS : Tester avec `npx tsx scripts/test-redis.ts`
# 2. EMAIL : Utiliser App Password Gmail (pas le mot de passe normal)
# 3. PAYDUNYA : Mode test pour dev, live pour prod (paiements loyers)
# 4. STRIPE : Gérer abonnements SaaS (paiements internationaux cartes bancaires)
#    - Test mode : sk_test_... et price_test_...
#    - Live mode : sk_live_... et price_live_...
#    - Webhook : Configurer dans Dashboard > Developers > Webhooks
#    - URL webhook : https://yourdomain.com/api/stripe/webhook
# 5. Voir documentation : REDIS_CACHE_STRATEGY.md
# 6. ONESIGNAL : Push notifications (web + mobile PWA)
#
# ============================================================================

# ----------------------------------------------------------------------------
# ONESIGNAL (Push Notifications)
# ----------------------------------------------------------------------------
NEXT_PUBLIC_ONESIGNAL_APP_ID=your_onesignal_app_id
ONESIGNAL_REST_API_KEY=your_onesignal_rest_api_key
