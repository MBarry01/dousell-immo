@import "tailwindcss";

/* Tailwind v4: Configure dark mode to use .dark class */
@custom-variant dark (&:where(.dark, .dark *));

:root {
  color-scheme: dark;
  --background: #05080c;
  --foreground: #f7f8fb;
  --muted: #0f121b;
  --muted-foreground: #9da7b9;
  --card: #0b0f18;
  --card-foreground: #fafbfd;
  --popover: #0b0f18;
  --popover-foreground: #fafbfd;
  --accent: #f2c94c;
  --accent-foreground: #05080c;
  /* Couleur primaire - Jaune Or de marque #F4C430 */
  --primary: 45 91% 57%;
  --primary-foreground: 0 0% 0%;
  --ring: 45 91% 57%;
  --border: rgba(255, 255, 255, 0.08);
  --safe-area-top: env(safe-area-inset-top, 0px);
  --safe-area-bottom: env(safe-area-inset-bottom, 0px);
  --radius: 1.5rem;
}

/* Pas de mode light - Application toujours en dark mode */

@theme inline {
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  /* Couleurs primaires - Jaune Or de marque #F4C430 */
  /* Format HSL pour Tailwind v4 - utilise hsl() automatiquement */
  --color-primary: 45 91% 57%;
  --color-primary-foreground: 0 0% 0%;
  --color-ring: 45 91% 57%;

  /* Alias pour compatibilité Shadcn UI */
  --color-brand: #F4C430;

  /* Couleurs sémantiques - Mapping vers les variables CSS */
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);

  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  --color-border: var(--border);

  /* Couleurs destructives */
  --color-destructive: #ef4444;
  --color-destructive-foreground: #fafafa;
}

@layer base {
  * {
    border-color: var(--border);
  }

  body {
    font-family: var(--font-geist-sans), -apple-system, BlinkMacSystemFont,
      "SF Pro Display", "Segoe UI", sans-serif;
    background: radial-gradient(circle at top right,
        rgba(239, 246, 255, 0.08),
        transparent 45%),
      radial-gradient(circle at 20% 20%,
        rgba(255, 214, 150, 0.12),
        transparent 35%),
      var(--background);
    color: var(--foreground);
    min-height: 100dvh;
    text-rendering: optimizeLegibility;
  }

  /* Prevent horizontal scroll on mobile */
  @media screen and (max-width: 768px) {

    html,
    body {
      overflow-x: hidden;
      max-width: 100vw;
    }
  }

  /* Empêcher le zoom automatique sur mobile quand on focus les inputs */
  input,
  textarea,
  select {
    font-size: 16px !important;
  }

  /* Sur mobile, s'assurer que les inputs ont au moins 16px */
  @media screen and (max-width: 768px) {

    input,
    textarea,
    select {
      font-size: 16px !important;
    }
  }

  ::selection {
    background: rgba(242, 201, 76, 0.3);
    color: var(--foreground);
  }
}

@layer utilities {
  .pt-safe {
    padding-top: calc(var(--safe-area-top) + 1rem);
  }

  .pb-safe {
    padding-bottom: calc(var(--safe-area-bottom) + 1rem);
  }

  .glass-panel {
    backdrop-filter: blur(18px);
    background-color: rgba(10, 13, 23, 0.65);
  }

  .scrollbar-hide {
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Mobile-first: Empêcher le débordement horizontal */
  @media screen and (max-width: 768px) {
    body {
      overflow-x: hidden;
      width: 100vw;
      position: relative;
    }
  }

  /* Utilitaires pour la couleur primaire - Jaune Or #F4C430 */
  .bg-primary {
    background-color: hsl(var(--primary));
  }

  .bg-primary\/90 {
    background-color: hsl(var(--primary) / 0.9);
  }

  .text-primary-foreground {
    color: hsl(var(--primary-foreground));
  }

  .border-primary {
    border-color: hsl(var(--primary));
  }

  .ring-primary {
    --tw-ring-color: hsl(var(--ring));
  }
}

/* Animations smooth pour les menus */
@keyframes smooth-fade-in {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(-4px);
  }

  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes smooth-fade-out {
  from {
    opacity: 1;
    transform: scale(1) translateY(0);
  }

  to {
    opacity: 0;
    transform: scale(0.95) translateY(-4px);
  }
}

/* Animation shimmer luxueux pour skeletons - Thème "Luxe & Teranga" */
@keyframes shimmer-luxury {
  0% {
    background-position: -200% 0;
  }

  100% {
    background-position: 200% 0;
  }
}

/* Amélioration des transitions pour les dropdowns Radix UI */
[data-radix-dropdown-menu-content],
[data-radix-popover-content] {
  animation-duration: 200ms;
  animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
}

[data-state="open"][data-radix-dropdown-menu-content],
[data-state="open"][data-radix-popover-content] {
  animation: smooth-fade-in 200ms cubic-bezier(0.16, 1, 0.3, 1);
}

[data-state="closed"][data-radix-dropdown-menu-content],
[data-state="closed"][data-radix-popover-content] {
  animation: smooth-fade-out 150ms cubic-bezier(0.16, 1, 0.3, 1);
}

/* PWA Optimizations */
@media all and (display-mode: standalone) {
  .pwa-hero-pb {
    padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 43px) !important;
  }
}

/* Print Optimizations */
@media print {
  @page {
    margin: 0 !important;
    size: auto;
  }

  body {
    margin: 0 !important;
    padding: 0 !important;
    background-color: white !important;
  }

  /* Hide everything by default using visibility */
  /* This keeps the layout structure but hides the paint */
  body * {
    visibility: hidden;
  }

  /* Only show the print content container and its children */
  #print-content,
  #print-content * {
    visibility: visible;
  }

  /* Position the print content on top of everything at the start of the page */
  #print-content {
    position: absolute !important;
    left: 0 !important;
    top: 0 !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 1.5cm !important;
    /* Marge interne propre */
    background: white !important;
    z-index: 9999 !important;
  }

  /* Ensure text colors are printed correctly */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Optimisation des images */
  img {
    max-width: 100% !important;
    page-break-inside: avoid !important;
  }

  /* Éviter les coupures */
  table,
  tr,
  td,
  .signature-block {
    page-break-inside: avoid !important;
  }
}